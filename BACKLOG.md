# Jules' Backlog: lornu.ai Remake

This backlog contains identified tasks, missing components, and TODOs within the `lornu.ai` project.

## üèóÔ∏è Infrastructure & Orchestration (High Priority)

- [ ] **Implement `infra/plan.ts`**: Currently a placeholder. Needs to generate a diff or plan for infrastructure changes using `cdk8s` and potentially Crossplane's dry-run capabilities.
- [ ] **Implement `infra/apply.ts`**: Currently a placeholder. Needs to apply synthesized manifests to the cluster using `kubectl apply --server-side` or a similar mechanism.
- [ ] **Crossplane Integration**:
  - [ ] Add `ProviderConfigs` (e.g., for GCP) in `infra/main.ts`.
  - [ ] Import and use Crossplane CRDs in `cdk8s` constructs.
- [ ] **Application Deployments**: Implement `cdk8s` constructs for deploying the Rust Engine, Gateway, Agent Worker, and Web App in `infra/main.ts`.
- [ ] **FluxCD Integration**: Add Flux `Kustomizations` in `infra/main.ts` for GitOps-based reconciliation.
- [ ] **Secret Management (ESO)**: Add `ClusterSecretStore` and `ExternalSecret` constructs in `infra/main.ts` to integrate with External Secrets Operator and GCP Secret Manager.
- [ ] **Agent Sandbox Refinement**: Enhance `infra/agent-sandbox.ts` to use real Crossplane Compositions instead of raw namespace creation.

## ü¶Ä Rust Services Development

- [ ] **Engine (`services/engine`)**:
  - [ ] Implement core backend logic.
  - [ ] Populate `agents/` and `tools/` frameworks.
- [ ] **Gateway (`services/gateway`)**:
  - [ ] Implement API gateway functionality for routing and authentication.
- [ ] **Agent Worker (`services/agent-worker`)**:
  - [ ] Implement worker logic for executing long-running agent tasks.
- [ ] **Common Library**: Extract shared Rust logic (e.g., secret management, logging) into a `services/common` crate.

## ü§ñ GitHub Integration & Agents

- [ ] **GitHub Bot (`services/github-bot`)**: Develop the Rust-based bot for repository automation.
- [ ] **Bot Tools (`ai-agents/github-bot-tools-ts`)**:
  - [ ] Finalize manifest creation logic in `create-manifest.ts`.
  - [ ] Enhance PR approval automation in `approve-prs-with-bot.ts`.
- [ ] **Integration Tests**: Implement cross-service integration tests for the bot and engine.

## üåê Web Application

- [ ] **Initialize `apps/web`**: The directory is missing. Bootstrap a Bun/Next.js application as specified in the README.
- [ ] **UI Components**: Build the dashboard for monitoring agents, viewing logs, and managing infrastructure.

## üöÄ CI/CD & Automation

- [ ] **Dagger Pipeline (`ci/main.ts`)**:
  - [ ] Enhance stage 1 to include all Rust services.
  - [ ] Finalize stage 2 for automated Crossplane setup.
  - [ ] Implement stage 3 for parallel testing and image publishing.
- [ ] **GitHub Workflow Generation**: Implement `ci/generate-workflow.ts` to automatically generate `.github/workflows/` files.
- [ ] **Sync Secrets**: Finalize `ci/sync_secrets.ts` for automated GCP Secret Manager synchronization.

## üìö Documentation & Developer Experience

- [ ] **Improve `justfile`**: Add more granular commands for sub-projects (e.g., `just build-engine`, `just test-gateway`).
- [ ] **Infrastructure Guide**: Document how to add new Crossplane resources to the `cdk8s` stack.
- [ ] **Agent Contribution Guide**: Document how developers can add new agents and tools.

---
*Generated by Jules, AI Software Engineer.*
